% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mavtime.R
\name{mavtime}
\alias{mavtime}
\title{Calculate Rolling Averages for Time-Series Data}
\usage{
mavtime(
  timevals,
  datavals,
  timewindow,
  timeunits = "min",
  resample = NULL,
  resampleinterval = "1 min"
)
}
\arguments{
\item{timevals}{A `POSIXct` vector of timestamps for the data points.}

\item{datavals}{A numeric vector of data values corresponding to the timestamps.}

\item{timewindow}{An integer specifying the size of the rolling window in the units defined by `timeunits`.}

\item{timeunits}{A character string specifying the time units for the rolling window. Supported values are:
`"min"` (default), `"hour"`, or `"day"`.}

\item{resample}{A logical indicating whether to resample the data to regular intervals (default: `TRUE`).}

\item{resampleinterval}{A character string specifying the interval for resampling, e.g., `"1 min"`.}
}
\value{
A numeric vector of rolling averages aligned with the input `timevals`.
  Missing values (`NA`) are returned if insufficient data exists within the window.
}
\description{
The `mavtime` function calculates rolling averages over a specified time window
for time-series data. This implementation leverages an optimized Rcpp function
for enhanced performance on large datasets.
}
\details{
This function resamples the data to regular intervals if `resample = TRUE`,
ensuring consistent time-series alignment before calculating rolling averages. The rolling
averages are computed using a highly optimized Rcpp implementation for performance.
}
\examples{
library(data.table)

# Generate example time-series data
timevals <- seq(from = as.POSIXct("2024-12-01 00:00:00"), by = "1 min", length.out = 100)
datavals <- runif(100, min = 0, max = 100)

# Calculate rolling averages with a 15-minute window
result <- mavtime(timevals, datavals, timewindow = 15, timeunits = "min")

}
\seealso{
`rollapply` from the zoo package for a pure R implementation.
}

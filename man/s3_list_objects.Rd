% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/file_utils.R
\name{s3_list_objects}
\alias{s3_list_objects}
\title{List S3 objects with retries and optional ordering}
\usage{
s3_list_objects(
  bucket,
  prefix = NULL,
  delimiter = NULL,
  max = NULL,
  marker = NULL,
  ...,
  max_tries = 3,
  wait = 1,
  backoff = 1.6,
  verbose = TRUE,
  order_by_last_modified = FALSE,
  return_tail = FALSE,
  tail_n = 6
)
}
\arguments{
\item{bucket}{Character scalar. Bucket name.}

\item{prefix}{Character scalar or `NULL`. Prefix filter. If `NULL`, defaults to
`file.path("goes", <UTC-YYYY-mm-dd>)` (preserves original behavior).}

\item{delimiter}{Character scalar or `NULL`. Passed to S3 listing.}

\item{max}{Integer or `NULL`. Max number of keys to return (approximate).}

\item{marker}{Character scalar or `NULL`. Marker for pagination.}

\item{...}{Additional args passed to `aws.s3::get_bucket()`.}

\item{max_tries}{Integer. Max attempts per page.}

\item{wait}{Numeric. Base wait time (seconds) between retries.}

\item{backoff}{Numeric. Multiplier applied to wait after each retry.}

\item{verbose}{Logical. If `TRUE`, prints retry messages.}

\item{order_by_last_modified}{Logical. If `TRUE`, sorts by `LastModified`.}

\item{return_tail}{Logical. If `TRUE`, returns only the last `tail_n` rows after
optional ordering.}

\item{tail_n}{Integer. Rows to return when `return_tail = TRUE`.}
}
\value{
A data.frame with columns: `Key`, `Size`, `LastModified`, `StorageClass`.
}
\description{
Wrapper around `aws.s3::get_bucket()` that:
\itemize{
  \item supports basic pagination via `marker`
  \item retries transient failures with backoff
  \item returns a data frame with `Key`, `Size`, `LastModified`, `StorageClass`
  \item can order by `LastModified` and/or return only the tail rows
}
}
\examples{
\dontrun{
df <- s3_list_objects(bucket = "my-bucket", prefix = "data/2026-01-01/")
newest <- s3_list_objects("my-bucket", prefix = "data/", order_by_last_modified = TRUE, return_tail = TRUE, tail_n = 5)
}

}
